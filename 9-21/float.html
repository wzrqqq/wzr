<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>float</title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			.box{
				width: 300px;
				height: 300px;
				background: red;
				position: absolute;
				box-shadow: 0 0 5px 5px orange;
				border-radius: 100px;
			}
			.son{
				width: 200px;
				height: 200px;
				background: yellowgreen;
				position: absolute;
				right: 0;
			}
			/*body{
				height: 2000px;
			}*/
		</style>
	</head>
	<body>
		<div class="box"></div>
		<div class="son">
			
		</div>
		
		
		
		
		
		<script>
			
			/*
			 
				谁悬浮	box
				最大动画范围
			*/
			
			
			//console.log(A);
			
			
			let box = document.getElementsByClassName('box')[0];
			let son = document.getElementsByClassName('son')[0];
			let A = new Float(box);
			let B = new Float(son);
			let time = 0;
			
			
			box.onmouseover = function(){
				A.stop();
			}
			box.onmouseout = function(){
				A.move();
			}
			window.onresize = function(){
				A.resize();
				B.resize();
			}
			window.setTimeout(function(){
				A.stop();
			},5000)
			function Float(obj){
				this.obj = obj;
				this.name = 'zhangsan';
				this.maxX = window.innerWidth - this.obj.offsetWidth;
				this.maxY = window.innerHeight - this.obj.offsetHeight;
				this.speedX = 15;
				this.speedY = 15;
				
			}
			
			/*Float.prototype = {
				
			}*/
			
			//停
			Float.prototype.stop = function(){
				clearInterval(this.t);
			}
			
			//计算最大宽度
			Float.prototype.resize = function(){
				this.maxX = window.innerWidth - this.obj.offsetWidth;
			}
			
			
			//移动
			Float.prototype.move = function(){
				let that = this;
				this.t = setInterval(function(){
					/*time++;
					if (time == 5) {
						clearInterval(this.t);
					}*/
					let lefts = that.obj.offsetLeft + that.speedX;
					if (lefts >= that.maxX) {
						lefts = that.maxX;
						that.speedX *= -1;
					}
					if (lefts <= 0) {
						lefts = 0;
						that.speedX *= -1;
					}
					that.obj.style.left = lefts + 'px';
					
					
					let tops = that.obj.offsetTop + that.speedY;
					if (tops >= that.maxY) {
						tops = that.maxY;
						that.speedY *= -1;
					}
					if (tops <= 0) {
						tops = 0;
						that.speedY *= -1;
					}
					that.obj.style.top = tops +'px';
				},100);
				
			}
			
			
			
			A.move();
			B.move();
		</script>
	</body>
</html>
